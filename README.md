# DiaLog

_Версия: **1.0**_

В этом репозитории вы можете ознакомиться с кодом веб-приложения для людей с сахарным диабетом

## Основные функции

Ниже перечислены основные функции, которые предоставляет проект

- контроль за диабетом
- ведение дневника заболевания
- составление отчетов 
- удобный просмотр внесенных данных в удобном визуальном формате (графики, диаграммы, таблицы)
- выгрузка отчетов в различные форматы (pdf, excel)

## Преимущества

- полностью бесплатное
- без рекламы
- не нужно качать лишних приложений на телефон: веб-приложение доступно из браузера с любого устройства
- возможность заносить множество различных данных о состоянии организма
- наглядное представление внесенных данных в удобном для восприятия формате
- возможность показать свои данные врачу

## Запуск проекта

- В `dialog_backend/dialog_backend/` создайте `.env` файл со следующим содержимым:
```dotenv
# django project settings
SECRET_KEY=
DEBUG=
ALLOWED_HOSTS=
LANGUAGE_CODE=
TIME_ZONE=

# postgres config
POSTGRES_DB=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_HOST=
POSTGRES_PORT=

# redis config
REDIS_HOST=
REDIS_PORT=

# jwt
AUTH_COOKIE_SECURE=
```
- запустить сборку docker-контейнеров `docker compose build`
- далее запустите команду `docker compose up`
- готово

### Особенности проекта

Серверная часть (backend) написана на **Python/Django**, API реализован с помощью **Django REST Framework**  
На данный момент полноценной frontend-части нет, сейчас используются **Django Templates**, часть данных отправляются клиенту асинхронно через **AJAX** с помощью fetch-запросов  
На данный момент используется стандартная аутентификация django - **SessionAuthentication**, со временем она будет перенесена на **JWT**, часть логики уже перенесена на нее  
**Redis** - для кеширования  
**RabbitMQ** - брокер сообщений  
**Celery Beat** - планировщик задач
Используемая СУБД - **PostgreSQL**

### Настройка celery

По умолчанию, все должно работать из коробки.

Для команд создания ежемесячных, ежедневных и еженедельных отчетов нужно в django-админке создать периодические таски, все их связать с каким-либо кроном (в зависимости от того, когда нужно запускать таски)

Flower будет доступен по локальному адресу `http://127.0.0.1:5555`
RabbitMQ будет доступен в по локальному адресу `http://127.0.0.1:15672` с логином и паролем - guest
